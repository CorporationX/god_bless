# Блокировка Spotify

## Условия задачи
В _Spotify_ есть функция "Group Session", которая позволяет нескольким пользователям управлять воспроизведением 
музыки в реальном времени, на одном устройстве или на разных устройствах. Давайте реализуем её! Мы хотим сделать так, 
чтобы несколько пользователей могли управлять воспроизведением музыки на разных устройствах одновременно, но при этом 
избежать ситуаций, когда один пользователь перебивает другого.

Когда один пользователь изменяет состояние воспроизведения, он должен сначала захватить блокировку, 
чтобы другой пользователь не мог изменить это состояние в то же время. После того как состояние воспроизведения 
изменено, блокировка освобождается и другой пользователь может захватить её и изменить состояние на своём устройстве.

1. Создайте класс `Player` с методами для управления воспроизведением музыки: `play()`, `pause()`, `skip()` и `previous()`.

2. Добавьте поле `lock` в класс `Player`. Это будет объект-блокировка, который позволит синхронизировать доступ к 
изменению состояния воспроизведения на всех устройствах.

3. Добавьте переменную `isPlaying` в класс `Player`, которая будет отслеживать текущее состояние воспроизведения музыки.

4. Внутри методов наша основная цель — вызвать `synchronized (lock)` для блокировки доступа к переменной `isPlaying` другим 
потокам. Остальную логику можете дописать по своему усмотрению. Учтите, что флаг `isPlaying` должен корректно 
переключаться в соответствующих методах.

5. В методе `main()` класса `Music` cоздаём четыре потока для выполнения каждого метода объекта `player`: 
   * `playThread`, 
   * `pauseThread`, 
   * `skipThread` 
   * и `previousThread`. 

   Для каждого потока используем лямбда-выражения для вызова соответствующего метода объекта `player`. 
   Запускаем все потоки методом `start()`.

## Почему эта задача полезна?
Подобные подходы к синхронизации проигрывания музыки и управлению им используются в реальных музыкальных сервисах, 
таких как _Spotify_, _Apple Music_ и _Amazon Music_. Они используют различные методы синхронизации, включая блокировки 
и другие алгоритмы, чтобы обеспечить плавное воспроизведение музыки на нескольких устройствах одновременно и 
предотвратить конфликты между пользователями.

В Spotify есть функция "Group Session", которая позволяет нескольким пользователям управлять воспроизведением музыки 
в реальном времени, на одном устройстве или на разных устройствах. При этом управление происходит с помощью 
синхронизации и блокировок, чтобы избежать конфликтов между пользователями и обеспечить плавность воспроизведения музыки.

Мы только что написали штуку из Spotify — круто? Круто!