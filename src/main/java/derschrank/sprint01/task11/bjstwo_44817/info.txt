Условие задачи:
Создайте систему для получения и кэширования данных о погоде в разных городах с учетом срока их актуальности. Используйте паттерн "Шаблонный метод" для создания общего алгоритма с возможностью настройки шагов, таких как обновление данных или проверка актуальности кэша.

Цель: Изучить паттерн "Шаблонный метод" (Template Method) для создания гибкого алгоритма получения и кэширования данных, а также научиться управлять сроками действия кэша и оптимизировать запросы к внешним источникам данных.

Требования:
Создайте класс WeatherData с полями:
String city — название города;
double temperature — текущая температура;
double humidity — текущая влажность;
long timestamp — время получения данных (в миллисекундах), чтобы отслеживать срок их актуальности.

Создайте интерфейс WeatherProvider с методом WeatherData fetchWeatherData(String city), который возвращает свежие данные о погоде для указанного города.
Реализуйте класс WeatherService, который будет реализовывать WeatherProvider и имитировать получение данных о погоде. Метод fetchWeatherData должен "генерировать" случайные данные для температуры и влажности, а также проставлять текущее время в поле timestamp.
Создайте абстрактный класс WeatherCacheTemplate, который будет:
Содержать HashMap<String, WeatherData> для хранения данных о погоде.

Определять общий алгоритм getWeatherData(String city, long maxCacheAgeMillis) с использованием паттерна "Шаблонный метод":
Если данные есть в кэше и они актуальны, возвращать их.
Если данных нет или они устарели, запросить новые данные у внешнего источника, обновить кэш и вернуть свежие данные.
Иметь методы для проверки срока актуальности кэша и обновления данных. Позвольте подклассам переопределять эти методы.

Реализуйте два подкласса:
StandardWeatherCache — использует стандартное кэширование с указанным сроком действия данных.
FrequentUpdateWeatherCache — обновляет данные каждые maxCacheAgeMillis миллисекунд для частого запроса свежей информации (например, для городов с быстро меняющейся погодой).

Дополнительное задание:
реализуйте метод clearExpiredCache(long maxCacheAgeMillis), который удаляет устаревшие данные из кэша.
реализуйте юнит-тесты, проверяя, что алгоритм работает корректно для разных типов кэша, и что данные обновляются только при необходимости

---

4:02:15: Executing ':derschrank.sprint01.task11.bjstwo_44817.Main.main()'…

> Task :compileJava
> Task :processResources NO-SOURCE
> Task :classes

> Task :derschrank.sprint01.task11.bjstwo_44817.Main.main()

new StandardWeatherCache()
Moscow, temp:  23�C, humidity:  89% | London, temp:  -1�C, humidity:  81% | Berlin, temp: -20�C, humidity:  98%
Moscow, temp:  23�C, humidity:  89% | London, temp:  -1�C, humidity:  81% | Berlin, temp: -20�C, humidity:  98%
Moscow, temp:  23�C, humidity:  89% | London, temp:  -1�C, humidity:  81% | Berlin, temp: -20�C, humidity:  98%
Moscow, temp:  23�C, humidity:  89% | London, temp:  -1�C, humidity:  81% | Berlin, temp: -20�C, humidity:  98%
Moscow, temp: -13�C, humidity:  97% | London, temp:  29�C, humidity:  84% | Berlin, temp:  24�C, humidity:  71%
Moscow, temp: -13�C, humidity:  97% | London, temp:  29�C, humidity:  84% | Berlin, temp:  24�C, humidity:  71%
Moscow, temp: -13�C, humidity:  97% | London, temp:  29�C, humidity:  84% | Berlin, temp:  24�C, humidity:  71%
Moscow, temp: -13�C, humidity:  97% | London, temp:  29�C, humidity:  84% | Berlin, temp:  24�C, humidity:  71%
Moscow, temp:  29�C, humidity:  72% | London, temp:  10�C, humidity:  96% | Berlin, temp: -17�C, humidity:  77%
Moscow, temp:  29�C, humidity:  72% | London, temp:  10�C, humidity:  96% | Berlin, temp: -17�C, humidity:  77%

new FrequentUpdateWeatherCache()
Moscow, temp:  -4�C, humidity:  82% | London, temp:  16�C, humidity:  62% | Berlin, temp:  22�C, humidity:  84%
Moscow, temp: -19�C, humidity:  79% | London, temp:   0�C, humidity:  92% | Berlin, temp: -18�C, humidity:  68%
Moscow, temp:  12�C, humidity:  83% | London, temp:   0�C, humidity:  65% | Berlin, temp:  25�C, humidity:  99%
Moscow, temp:   0�C, humidity:  61% | London, temp:  28�C, humidity:  64% | Berlin, temp: -17�C, humidity:  84%
Moscow, temp:  26�C, humidity:  66% | London, temp:  -7�C, humidity:  60% | Berlin, temp: -17�C, humidity:  90%
Moscow, temp:  27�C, humidity:  52% | London, temp:  27�C, humidity:  65% | Berlin, temp:   4�C, humidity:  52%
Moscow, temp:  21�C, humidity:  77% | London, temp:  15�C, humidity:  98% | Berlin, temp:  21�C, humidity:  64%
Moscow, temp:  22�C, humidity:  94% | London, temp:  23�C, humidity:  88% | Berlin, temp:  18�C, humidity:  77%
Moscow, temp:   1�C, humidity:  62% | London, temp:  26�C, humidity:  86% | Berlin, temp:   5�C, humidity:  61%
Moscow, temp: -12�C, humidity:  87% | London, temp:  28�C, humidity:  83% | Berlin, temp:  29�C, humidity:  93%

BUILD SUCCESSFUL in 8s
2 actionable tasks: 2 executed
4:02:23: Execution finished ':derschrank.sprint01.task11.bjstwo_44817.Main.main()'.
